<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <link rel="stylesheet" href="/css/studenPage_css.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="/css/popup.css">
    </head>
    <body>
    <div class="container-fluid">
        <div class="row">
            <div th:replace="sidebar/sidebar :: sidebar"></div>
            <div class="col-md-9">
                <ul class="header-list">
                    <li>
                        <h1>Utilisateurs (2)</h1>
                    </li>
                    <li>
                        <button type="button">
                            <a th:href="@{/ajouterUser}" class="add-student"><img src="/img/add.png" alt="Ajouter élève">Nouveau utilisateur</a>
                        </button>
                    </li>
                </ul>
            <div class="stats">
                    <table>
                        <thead>
                        <tr>
                            <th>Pseudo</th>
                            <th>Date de création</th>
                            <th  rowspan="2">Actions</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="user:${users}" class="tr1">
                            <td th:text="${user.getPseudo()}"></td>
                            <td th:text="${user.getCreationdate()}"></td>
                            <td>
                                <button class="btn btn-warning"><a class="text-decoration-none" th:href="@{/user/{id}(id=${user.id})}">Modifier</a></button>
                                <button class="btn btn-danger" onclick="showPopup()">Supprimer</button></td>
                        </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            </div>
        </div>

            <!-- Popup -->
            <div class="overlay"></div>
            <div class="popup" id="popup">
                <h3>ATTENTION !!!</h3>
                <p>Voulez-vous supprimer cet élève ?</p>
                <button onclick="hidePopup()">Non</button>
                <button>Oui</button>
            </div>

            <script>
                function showPopup() {
                    document.getElementById('popup').style.display = 'block';
                    document.querySelector('.overlay').style.display = 'block';
                }

                function hidePopup() {
                    document.getElementById('popup').style.display = 'none';
                    document.querySelector('.overlay').style.display = 'none';
                }
            </script>
    </body>
</html>